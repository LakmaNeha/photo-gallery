(this.webpackJsonpphotogallery=this.webpackJsonpphotogallery||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n.n(c),a=n(29),o=n.n(a),l=(n(40),n(9)),i=n(14),s=(n(41),n(15));n(44),n(45),n(46);s.a.initializeApp({apiKey:"AIzaSyDFn_vwdX1_csteYbCmU-iatWbj8FXI-no",authDomain:"asthetic-gallery.firebaseapp.com",projectId:"asthetic-gallery",storageBucket:"asthetic-gallery.appspot.com",messagingSenderId:"676145813989",appId:"1:676145813989:web:4a3d0b69cde0cbe937370c"});var d=s.a.storage(),j=s.a.firestore(),u=s.a.firestore.FieldValue.serverTimestamp,b=(s.a.auth(),n(5)),p=function(e){var t=e.docId,n=e.setDocId,c=e.delUrl,r=e.setDelUrl;return j.collection("images").doc(t).delete(),n(null),d.refFromURL(c).delete(),r(null),Object(b.jsx)("div",{})},h=n(24),g=function(e){var t=Object(c.useState)([]),n=Object(l.a)(t,2),r=n[0],a=n[1];return Object(c.useEffect)((function(){var t=j.collection(e).orderBy("createdAt","desc").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),a(t)}));return function(){return t()}}),[e]),{docs:r}},O=n(53),m=n(30),f=function(e){var t=e.setSelectedImage,n=e.setDocId,c=e.setDelUrl,r=g("images").docs;return Object(b.jsx)("div",{className:"img-grid",children:r&&r.map((function(e){return Object(b.jsxs)(O.a.div,{className:"img-wrap ",layout:!0,whileHover:{opacity:1},onClick:function(){return t(e.url)},children:[Object(b.jsx)(O.a.img,{src:e.url,alt:"uploaded pic",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5}}),Object(b.jsx)("button",{className:"zindex ",children:Object(b.jsx)(m.a,{onClick:function(t){n(e.id),c(e.url),t.stopPropagation()}})})]},e.id)}))})},x=function(e){var t=e.selectedImage,n=e.setSelectedImage;return Object(b.jsx)(O.a.div,{className:"backdrop",onClick:function(e){e.target.classList.contains("backdrop")&&n(null)},initial:{opacity:0},animate:{opacity:1},children:Object(b.jsx)(O.a.img,{src:t,alt:"enlarged pic",initial:{y:"-100vh"},animate:{y:0}})})},y=n(31);var v,S,I=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1];return window.addEventListener("scroll",(function(){var e=document.documentElement.scrollTop;e>300?r(!0):e<=300&&r(!1)})),Object(b.jsx)("button",{className:"arrow-up",children:Object(b.jsx)(y.a,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},style:{display:n?"inline":"none"}})})},w=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("h1",{style:{letterSpacing:"3px"},children:[Object(b.jsx)("span",{style:{color:" #596854 ",fontWeight:"bolder"},children:"a."}),Object(b.jsx)("span",{style:{color:" #7F803E ",fontWeight:"bolder"},children:"e."}),Object(b.jsx)("span",{style:{color:" #CC9A52 ",fontWeight:"bolder"},children:"s."}),Object(b.jsx)("span",{style:{color:" #AD794B ",fontWeight:"bolder"},children:"t."}),Object(b.jsx)("span",{style:{color:" #f8c96c",fontWeight:"bolder"},children:"h."}),Object(b.jsx)("span",{style:{color:" #596854 ",fontWeight:"bolder"},children:"e."}),Object(b.jsx)("span",{style:{color:" #7F803E ",fontWeight:"bolder"},children:"t."}),Object(b.jsx)("span",{style:{color:" #CC9A52 ",fontWeight:"bolder"},children:"i."}),Object(b.jsx)("span",{style:{color:" #AD794B ",fontWeight:"bolder"},children:"c"}),Object(b.jsx)("h2",{style:{textAlign:"center",color:" #596854 ",marginBottom:" 0rem ",marginTop:"1rem"},children:"Gallery"}),Object(b.jsx)("p",{style:{textAlign:"center",fontSize:"smaller",marginTop:"0rem"},children:" Upload your pictures here "})]})})},k=n(21),A=n.n(k),D=n(32),F=function(e){var t=Object(c.useState)(0),n=Object(l.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(null),i=Object(l.a)(o,2),s=i[0],b=i[1],p=Object(c.useState)(null),h=Object(l.a)(p,2),g=h[0],O=h[1];return Object(c.useEffect)((function(){var t=d.ref(e.name),n=j.collection("images");t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;a(t)}),(function(e){b(e)}),Object(D.a)(A.a.mark((function e(){var c,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,r=u(),n.add({url:c,createdAt:r}),O(c);case 6:case"end":return e.stop()}}),e)}))))}),[e]),{progress:r,url:g,error:s}},U=function(e){var t=e.uploadedInput,n=e.setUploadedInput,r=F(t),a=r.url,o=r.progress;return Object(c.useEffect)((function(){a&&n(null)}),[a,n]),Object(b.jsx)(O.a.div,{className:"progress-bar",initial:{width:0},animate:{width:o+"%"},children:" "})},B=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),o=Object(l.a)(a,2),i=o[0],s=o[1],d=["image/png","image/jpeg"];return Object(b.jsxs)("form",{children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{id:"hide",type:"file",onChange:function(e){var t=e.target.files[0];t&&d.includes(t.type)?(r(t),s("")):(r(null),s("Please select an image file (png or jpeg)"))}}),Object(b.jsx)("span",{children:"\u2795"})]}),Object(b.jsxs)("div",{style:{letterSpacing:"2px"},children:[Object(b.jsx)("div",{style:{color:"red",textAlign:"center"},children:i}),n&&Object(b.jsx)("div",{children:n.name}),n&&Object(b.jsx)(U,{uploadedInput:n,setUploadedInput:r})]})]})},C={body:"white",text:"#363537",toggleBorder:"#FFF",background:"#f8c96c"},E={body:"black",text:"#FAFAFA",toggleBorder:"#6B8096",background:"#999"},W=n(16),T=Object(i.b)(v||(v=Object(W.a)(["\n  body {\n    background: ",";\n    color: ",";\n    \n    transition: all 0.50s linear;\n  }\n  "])),(function(e){return e.theme.body}),(function(e){return e.theme.text})),N=i.c.button(S||(S=Object(W.a)(["\n  background: ",";\n  border: 2px solid ",";\n  color: ",";\n  border-radius: 30px;\n  cursor: pointer;\n  font-size:0.8rem;\n  padding: 0.6rem;\n  margin-top:1rem;\n  \n  \n  \n   \n"])),(function(e){return e.theme.background}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.text})),z=function(e){e.theme;var t=e.toggleTheme;return Object(b.jsx)(N,{onClick:t,children:"Switch Theme"})};var L=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),o=Object(l.a)(a,2),s=o[0],d=o[1],j=Object(c.useState)(null),u=Object(l.a)(j,2),h=u[0],g=u[1],O=function(){var e=Object(c.useState)("light"),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(l.a)(a,2),i=o[0],s=o[1],d=function(e){window.localStorage.setItem("theme",e),r(e)};return Object(c.useEffect)((function(){var e=window.localStorage.getItem("theme");e&&r(e),s(!0)}),[]),[n,function(){d("light"===n?"dark":"light")},i]}(),m=Object(l.a)(O,3),y=m[0],v=m[1],S=m[2],k="light"===y?C:E;return S?Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(i.a,{theme:k,children:[Object(b.jsx)(T,{}),Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)(z,{theme:y,toggleTheme:v}),Object(b.jsx)(w,{}),Object(b.jsx)(B,{}),Object(b.jsx)(f,{setSelectedImage:r,setDocId:d,setDelUrl:g}),n&&Object(b.jsx)(x,{selectedImage:n,setSelectedImage:r}),s&&h&&Object(b.jsx)(p,{docId:s,setDocId:d,delUrl:h,setDelUrl:g}),Object(b.jsx)(I,{})]})]})}):Object(b.jsx)("div",{})};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.704a70d5.chunk.js.map